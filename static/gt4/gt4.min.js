(function(t){"use strict";function e(t){this._obj=t}function r(t){var r=this;new e(t)._each(function(t,e){r[t]=e})}function n(t){return t.replace(/(\S)(_([a-zA-Z]))/g,function(t,e,r,n){return e+n.toUpperCase()||""})}function o(t,e){if(!_(t)||k(t)||j(t)||E(t)||w(t))return e?n(t):t;if(S(t))for(var r=[],a=0;a<t.length;a++)r.push(o(t[a]));else{r={};for(var c in t)t.hasOwnProperty(c)&&(r[o(c,!0)]=o(t[c]))}return r}if(void 0===t)throw new Error("Geetest requires browser environment");var a=t.document,c=t.Math,i=a.getElementsByTagName("head")[0],s=1e4;e.prototype={_each:function(t){var e=this._obj;for(var r in e)e.hasOwnProperty(r)&&t(r,e[r]);return this},_extend:function(t){var r=this;new e(t)._each(function(t,e){r._obj[t]=e})}};var u=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*c.random()|0,r="x"===t?e:3&e|8;return r.toString(16)})};r.prototype={apiServers:["gcaptcha4.geetest.com","gcaptcha4.geevisit.com","gcaptcha4.gsensebot.com"],staticServers:["static.geetest.com","static.geevisit.com"],protocol:"http://",typePath:"/load",fallback_config:{bypass:{staticServers:["static.geetest.com","static.geevisit.com"],type:"bypass",bypass:"/v4/bypass.js"}},_get_fallback_config:function(){var t=this;return f(t.type)?t.fallback_config[t.type]:t.fallback_config.bypass},_extend:function(t){var r=this;new e(t)._each(function(t,e){r[t]=e})}};var l=function(t){return"number"==typeof t},f=function(t){return"string"==typeof t},p=function(t){return"boolean"==typeof t},g=function(t){return"object"==typeof t&&null!==t},d=function(t){return"function"==typeof t},v=/Mobi/i.test(navigator.userAgent),y={},h={},x=function(){return parseInt(1e4*c.random())+(new Date).valueOf()},b=function(t,e){if("function"==typeof t){var r=Array.prototype.slice.call(arguments,2);return Function.prototype.bind?t.bind(e,r):function(){var n=Array.prototype.slice.call(arguments);return t.apply(e,r.concat(n))}}},m=Object.prototype.toString,w=function(t){return"function"==typeof t},_=function(t){return t===Object(t)},S=function(t){return"[object Array]"==m.call(t)},k=function(t){return"[object Date]"==m.call(t)},j=function(t){return"[object RegExp]"==m.call(t)},E=function(t){return"[object Boolean]"==m.call(t)},O=function(t,e,r){var n=a.createElement("script");n.charset="UTF-8",n.async=!0,/static\.geetest\.com/g.test(t)&&(n.crossOrigin="anonymous"),n.onerror=function(){e(!0),o=!0};var o=!1;n.onload=n.onreadystatechange=function(){o||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(o=!0,setTimeout(function(){e(!1)},0))},n.src=t,i.appendChild(n),setTimeout(function(){o||(n.onerror=n.onload=null,n.remove&&n.remove(),e(!0))},r||s)},P=function(t){return t.replace(/^https?:\/\/|\/$/g,"")},T=function(t){return t=t&&t.replace(/\/+/g,"/"),0!==t.indexOf("/")&&(t="/"+t),t},C=function(t){if(!t)return"";var r="?";return new e(t)._each(function(t,e){(f(e)||l(e)||p(e))&&(r=r+encodeURIComponent(t)+"="+encodeURIComponent(e)+"&")}),"?"===r&&(r=""),r.replace(/&$/,"")},N=function(t,e,r,n){e=P(e);var o=T(r)+C(n);return e&&(o=t+e+o),o},I=function(e,r,n,o,a,c,i){var s=function(u){if(i){var l="geetest_"+x();t[l]=b(i,null,l),a.callback=l}var f=N(r,n[u],o,a);O(f,function(e){if(e){if(l)try{t[l]=function(){t[l]=null}}catch(t){}u>=n.length-1?c(!0):s(u+1)}else c(!1)},e.timeout)};s(0)},A=function(e,r,n,o){var a=function(e,r){"success"==r.status?o(r.data):(r.status,o(r)),t[e]=void 0;try{delete t[e]}catch(t){}};I(n,n.protocol,e,r,{callback:"",captcha_id:n.captchaId,challenge:n.challenge||u(),client_type:v?"h5":"web",risk_type:n.riskType,user_info:n.userInfo,call_type:n.callType,lang:n.language?n.language:"Netscape"===navigator.appName?navigator.language.toLowerCase():navigator.userLanguage.toLowerCase()},function(t){t&&"function"==typeof n.offlineCb?n.offlineCb():t&&o(n._get_fallback_config())},a)},B=function(t,e,r){var n={networkError:"缃戠粶閿欒",gtTypeError:"gt瀛楁涓嶆槸瀛楃涓茬被鍨�"};if("function"!=typeof e.onError)throw new Error(n[t]);e.onError({desc:r.desc,msg:r.msg,code:r.code})},G=function(){return t.Geetest||a.getElementById("gt_lib")};G()&&(h.slide="loaded");var U=function(t){var e=!1,r={js:"script",css:"link"},n=t&&r[t.split(".").pop()];if(void 0!==n){var o=a.getElementsByTagName(n);for(var c in o)(o[c].href&&o[c].href.toString().indexOf(t)>0||o[c].src&&o[c].src.toString().indexOf(t)>0)&&(e=!0)}return e};t.initGeetest4=function(n,a){var c=new r(n);n.https?c.protocol="https://":n.protocol||(c.protocol=t.location.protocol+"//"),g(n.getType)&&c._extend(n.getType),A(c.apiServers,c.typePath,c,function(r){r=o(r);if("error"===r.status)return B("networkError",c,r);var n=r.type;c.debug&&new e(r)._extend(c.debug);var i=function(){c._extend(r),a(new t.Geetest4(c))};y[n]=y[n]||[];var s=h[n]||"init";if("init"===s)h[n]="loading",y[n].push(i),r.gctPath&&I(c,c.protocol,Object.hasOwnProperty.call(c,"staticServers")?c.staticServers:r.staticServers||c.staticServers,r.gctPath,null,function(t){t&&B("networkError",c,{code:"60205",msg:"Network failure",desc:{detail:"gct resource load timeout"}})}),I(c,c.protocol,Object.hasOwnProperty.call(c,"staticServers")?c.staticServers:r.staticServers||c.staticServers,r.bypass||r.staticPath+r.js,null,function(t){if(t)h[n]="fail",B("networkError",c,{code:"60204",msg:"Network failure",desc:{detail:"js resource load timeout"}});else{h[n]="loaded";for(var e=y[n],r=0,o=e.length;r<o;r+=1){var a=e[r];d(a)&&a()}y[n]=[],h[n]="init"}});else{if("loaded"===s)return r.gctPath&&!U(r.gctPath)&&I(c,c.protocol,Object.hasOwnProperty.call(c,"staticServers")?c.staticServers:r.staticServers||c.staticServers,r.gctPath,null,function(t){t&&B("networkError",c,{code:"60205",msg:"Network failure",desc:{detail:"gct resource load timeout"}})}),i();"fail"===s?B("networkError",c,{code:"60204",msg:"Network failure",desc:{detail:"js resource load timeout"}}):"loading"===s&&y[n].push(i)}})}})(window);